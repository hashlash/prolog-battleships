:- discontiguous problem/5.
:- discontiguous solution/2.

problem(1,
        [1,2,3],
        [1,1,2,2],
        [3,0,1,2],
        [[_,_,_,_],
         [_,_,_,_],
         [_,_,_,_],
         [_,_,_,_]]).

solution(1,
         [[0,0,1,0],
          [1,0,0,0],
          [1,0,0,1],
          [1,0,0,1]]).

% more than one solution
problem(2,
        [1,1,1,1],
        [1,1,1,1],
        [1,1,1,1],
        [[_,_,_,_],
         [_,_,_,_],
         [_,_,_,_],
         [_,_,_,_]]).

solution(2,
         [[0,1,0,0],
          [0,0,0,1],
          [1,0,0,0],
          [0,0,1,0]]).


solution(2,
         [[0,0,1,0],
          [1,0,0,0],
          [0,0,0,1],
          [0,1,0,0]]).

% no solution
problem(3,
        [1,2,3],
        [1,1,2,2],
        [3,0,1,2],
        [[_,_,0,_],
         [1,_,_,_],
         [_,_,_,_],
         [_,_,_,_]]).

% https://puzzlemadness.co.uk/battleships/small/2020/5/19
problem(4,
        [1, 1, 1, 2, 2, 3],
        [1, 2, 2, 2, 2, 1],
        [0, 4, 0, 4, 0, 2],
        [[_, _, _, _, _, _],
         [_, _, _, 0, _, _],
         [_, _, _, 1, _, 0],
         [_, _, _, 1, 0, 1],
         [_, _, _, _, _, 0],
         [_, _, _, _, _, _]]).

solution(4,
         [[0, 0, 0, 1, 0, 0],
          [0, 1, 0, 0, 0, 1],
          [0, 1, 0, 1, 0, 0],
          [0, 0, 0, 1, 0, 1],
          [0, 1, 0, 1, 0, 0],
          [0, 1, 0, 0, 0, 0]]).

% https://puzzlemadness.co.uk/battleships/small/2020/6/1
problem(5,
        [1, 1, 1, 2, 2, 2, 3],
        [0, 3, 2, 3, 1, 1, 2],
        [2, 1, 3, 1, 2, 1, 2],
        [[_, _, _, _, _, _, _],
         [_, _, _, _, _, _, _],
         [_, _, _, _, _, _, _],
         [_, _, _, 0, _, 0, _],
         [0, _, _, _, 0, 1, 0],
         [1, 0, _, _, _, 0, _],
         [0, _, _, _, _, _, _]]).

solution(5,
         [[0, 0, 0, 0, 0, 0, 0],
          [0, 0, 1, 0, 1, 0, 1],
          [0, 0, 0, 0, 1, 0, 1],
          [1, 1, 1, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 1, 0],
          [1, 0, 0, 0, 0, 0, 0],
          [0, 0, 1, 1, 0, 0, 0]).


% https://puzzlemadness.co.uk/battleships/medium/2020/05/20
problem(6,
        [1, 1, 1, 2, 2, 2, 3, 3, 4],
        [1, 3, 3, 2, 4, 1, 0, 4, 1],
        [1, 3, 2, 4, 0, 5, 1, 2, 1],
        [[_, _, _, _, _, _, _, _, _],
         [1, 1, _, _, _, 1, _, _, _],
         [_, _, _, _, _, 1, _, _, _],
         [_, _, _, _, _, 1, _, _, 0],
         [_, 1, _, _, _, _, _, 0, 1],
         [_, 1, _, _, _, _, _, _, 0],
         [_, 0, _, _, _, _, _, _, _],
         [_, _, _, _, _, _, _, _, _],
         [_, _, _, _, _, _, _, _, _]]).

solution(6,
         [[0, 0, 0, 1, 0, 0, 0, 0, 0],
          [1, 1, 0, 0, 0, 1, 0, 1, 0],
          [0, 0, 0, 1, 0, 1, 0, 0, 0],
          [0, 0, 0, 1, 0, 1, 0, 0, 0],
          [0, 1, 0, 1, 0, 1, 0, 0, 1],
          [0, 1, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 0, 0, 0, 0, 0, 0, 0],
          [0, 0, 1, 0, 0, 1, 1, 1, 0],
          [0, 0, 1, 0, 0, 0, 0, 0, 0]]).
